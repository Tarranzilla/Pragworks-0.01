{"mappings":"AAUA,IAAIA,GAAY,EACZC,EAAYC,aAAaC,QAAQ,QAErC,MAAMC,EACF,6CAEEC,EAAgBC,SAASC,eAAe,aAC3BD,SAASC,eAAe,YAEhCC,iBAAiB,SAAS,MAarCC,iBACI,GAAiB,GAAbT,EAAmB,CACnBK,EAAcK,UAAUC,IAAI,iBAC5BN,EAAcK,UAAUE,OAAO,eAC/BN,SAASO,KAAKH,UAAUE,OAAO,iBAE/BE,QAAQC,IAAI,uBAEZ,IAAIC,QAAeC,MAAMb,GAGzB,GAAkB,WAFDY,EAAOE,QAEfC,MAAa,CAClB,IAAIC,EACA,WACJlB,aAAamB,QAAQ,OAAQD,GAC7BN,QAAQC,IAAI,yBAChB,CACJ,CACJ,CA9BIO,EAAA,IAGCrB,IACDK,SAASO,KAAKH,UAAUC,IAAI,iBAC5BN,EAAcK,UAAUC,IAAI,eAC5BN,EAAcK,UAAUE,OAAO,iBAC/BE,QAAQC,IAAI,sBAEZf,GAAY","sources":["src/js/lgpd.js"],"sourcesContent":["/* \r\n\r\nEsta implementação ainda precisa de back-end;\r\nÉ necessaria a criação de uma ID unica de usuário, IP de acesso e Timestamp.\r\nPara provar que ele aceitou os termos de uso do site.\r\n\r\nDeve haver um repositorio no servidor do escritorio para guardar estes dados.\r\n\r\n*/\r\n\r\nlet lgpdValid = false;\r\nlet lsContent = localStorage.getItem(\"lgpd\");\r\n\r\nconst lgpdUrl =\r\n    \"https://jsonplaceholder.typicode.com/posts\"; /* Esta URL deve ser do servidor próprio */\r\n\r\nconst lgpdContainer = document.getElementById(\"lgpd-cont\");\r\nconst lgpdButton = document.getElementById(\"lgpd-but\");\r\n\r\nlgpdButton.addEventListener(\"click\", () => {\r\n    fecharLGPD();\r\n});\r\n\r\nif (!lsContent) {\r\n    document.body.classList.add(\"body-overflow\");\r\n    lgpdContainer.classList.add(\"lgpd-active\");\r\n    lgpdContainer.classList.remove(\"lgpd-inactive\");\r\n    console.log(\"Banner LGPD Aberto\");\r\n\r\n    lgpdValid = true;\r\n}\r\n\r\nasync function fecharLGPD() {\r\n    if (lgpdValid == true) {\r\n        lgpdContainer.classList.add(\"lgpd-inactive\");\r\n        lgpdContainer.classList.remove(\"lgpd-active\");\r\n        document.body.classList.remove(\"body-overflow\");\r\n\r\n        console.log(\"Banner LGPD Fechado\");\r\n\r\n        let result = await fetch(lgpdUrl);\r\n        let json = await result.json();\r\n\r\n        if (json.error != \"\") {\r\n            let id =\r\n                \"123_test\"; /* Este é um placeholder */ /* let id = json.id */\r\n            localStorage.setItem(\"lgpd\", id);\r\n            console.log(\"Usuario aceitou o LGPD\");\r\n        }\r\n    }\r\n}\r\n"],"names":["$c8673df7b17bcd02$var$lgpdValid","$c8673df7b17bcd02$var$lsContent","localStorage","getItem","$c8673df7b17bcd02$var$lgpdUrl","$c8673df7b17bcd02$var$lgpdContainer","document","getElementById","addEventListener","async","classList","add","remove","body","console","log","result","fetch","json","error","id","setItem","$c8673df7b17bcd02$var$fecharLGPD"],"version":3,"file":"index.3f540a37.js.map"}