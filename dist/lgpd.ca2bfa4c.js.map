{"version":3,"sources":["js/lgpd.js"],"names":["lgpdValid","lsContent","localStorage","getItem","lgpdUrl","lgpdContainer","document","getElementById","lgpdButton","addEventListener","fecharLGPD","body","classList","add","remove","console","log","fetch","result","json","error","id","setItem"],"mappings":";;+CACA;;;;;;AADA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,IAAIA,SAAS,GAAG,KAAhB;AACA,IAAIC,SAAS,GAAGC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAhB;AAEA,IAAMC,OAAO,GACT,4CADJ;AACkD;;AAElD,IAAMC,aAAa,GAAGC,QAAQ,CAACC,cAAT,CAAwB,WAAxB,CAAtB;AACA,IAAMC,UAAU,GAAGF,QAAQ,CAACC,cAAT,CAAwB,UAAxB,CAAnB;AAEAC,UAAU,CAACC,gBAAX,CAA4B,OAA5B,EAAqC,YAAM;EACvCC,UAAU;AACb,CAFD;;AAIA,IAAI,CAACT,SAAL,EAAgB;EACZK,QAAQ,CAACK,IAAT,CAAcC,SAAd,CAAwBC,GAAxB,CAA4B,eAA5B;EACAR,aAAa,CAACO,SAAd,CAAwBC,GAAxB,CAA4B,aAA5B;EACAR,aAAa,CAACO,SAAd,CAAwBE,MAAxB,CAA+B,eAA/B;EACAC,OAAO,CAACC,GAAR,CAAY,oBAAZ;EAEAhB,SAAS,GAAG,IAAZ;AACH;;SAEcU;;;;;2EAAf;IAAA;IAAA;MAAA;QAAA;UAAA;YAAA,MACQV,SAAS,IAAI,IADrB;cAAA;cAAA;YAAA;;YAEQK,aAAa,CAACO,SAAd,CAAwBC,GAAxB,CAA4B,eAA5B;YACAR,aAAa,CAACO,SAAd,CAAwBE,MAAxB,CAA+B,aAA/B;YACAR,QAAQ,CAACK,IAAT,CAAcC,SAAd,CAAwBE,MAAxB,CAA+B,eAA/B;YAEAC,OAAO,CAACC,GAAR,CAAY,qBAAZ;YANR;YAAA,OAQ2BC,KAAK,CAACb,OAAD,CARhC;;UAAA;YAQYc,MARZ;YAAA;YAAA,OASyBA,MAAM,CAACC,IAAP,EATzB;;UAAA;YASYA,IATZ;;YAWQ,IAAIA,IAAI,CAACC,KAAL,IAAc,EAAlB,EAAsB;cACdC,EADc,GAEd,UAFc;cAEF;;cAA4B;;cAC5CnB,YAAY,CAACoB,OAAb,CAAqB,MAArB,EAA6BD,EAA7B;cACAN,OAAO,CAACC,GAAR,CAAY,wBAAZ;YACH;;UAhBT;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA","file":"lgpd.ca2bfa4c.js","sourceRoot":"..\\src","sourcesContent":["/* \r\n\r\nEsta implementação ainda precisa de back-end;\r\nÉ necessaria a criação de uma ID unica de usuário, IP de acesso e Timestamp.\r\nPara provar que ele aceitou os termos de uso do site.\r\n\r\nDeve haver um repositorio no servidor do escritorio para guardar estes dados.\r\n\r\n*/\r\n\r\nlet lgpdValid = false;\r\nlet lsContent = localStorage.getItem(\"lgpd\");\r\n\r\nconst lgpdUrl =\r\n    \"https://jsonplaceholder.typicode.com/posts\"; /* Esta URL deve ser do servidor próprio */\r\n\r\nconst lgpdContainer = document.getElementById(\"lgpd-cont\");\r\nconst lgpdButton = document.getElementById(\"lgpd-but\");\r\n\r\nlgpdButton.addEventListener(\"click\", () => {\r\n    fecharLGPD();\r\n});\r\n\r\nif (!lsContent) {\r\n    document.body.classList.add(\"body-overflow\");\r\n    lgpdContainer.classList.add(\"lgpd-active\");\r\n    lgpdContainer.classList.remove(\"lgpd-inactive\");\r\n    console.log(\"Banner LGPD Aberto\");\r\n\r\n    lgpdValid = true;\r\n}\r\n\r\nasync function fecharLGPD() {\r\n    if (lgpdValid == true) {\r\n        lgpdContainer.classList.add(\"lgpd-inactive\");\r\n        lgpdContainer.classList.remove(\"lgpd-active\");\r\n        document.body.classList.remove(\"body-overflow\");\r\n\r\n        console.log(\"Banner LGPD Fechado\");\r\n\r\n        let result = await fetch(lgpdUrl);\r\n        let json = await result.json();\r\n\r\n        if (json.error != \"\") {\r\n            let id =\r\n                \"123_test\"; /* Este é um placeholder */ /* let id = json.id */\r\n            localStorage.setItem(\"lgpd\", id);\r\n            console.log(\"Usuario aceitou o LGPD\");\r\n        }\r\n    }\r\n}\r\n"]}